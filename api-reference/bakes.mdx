---
title: "Bakes (Model Training)"
description: "Configure and run model training jobs"
---

## Overview

Bakes represent model training jobs that use rollout data as training datasets. They are composed from a base template plus per-bake overrides and support advanced features like LoRA adapters, DeepSpeed, and Weights & Biases integration.

## Endpoints

### List Bakes

List all bakes in a repository.

**Endpoint**: `GET /v1/repo/{repo_name}/bakes`

**Request**:

```bash
curl -X GET "https://bapi.bread.com.ai/v1/repo/my_repo/bakes" \
  -H "Authorization: Bearer $BREAD_API_KEY"
```

**Response**: `200 OK`

```json
{
  "bakes": ["bake_v1", "bake_v2", "production_bake"]
}
```

---

### Get Bake

Get bake definition and metadata.

**Endpoint**: `GET /v1/repo/{repo_name}/bakes/{bake_name}`

**Request**:

```bash
curl -X GET "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/my_bake" \
  -H "Authorization: Bearer $BREAD_API_KEY"
```

<ParamField path="bake_name" type="string" required>
  Bake name
</ParamField>

<ParamField path="repo_name" type="string" required>
  Repository name
</ParamField>

**Response**: `200 OK`

```json
{
  "status": "complete",
  "config": {
    "datasets": [{"target": "coding_target", "weight": 1.0}],
    "epochs": 3
  },
  "model_name": ["user/repo/bake_name/35"],
  "progress_percent": 100.0
}
```

**Response Fields**:
- `status`: `string` - 'not_started', 'running', 'complete', or 'failed'
- `config`: `object` - Bake configuration
- `model_name`: `Array<string>` - List of model checkpoints (when complete)
- `progress_percent`: `number` - Job progress (0-100)

---

### Create or Update Bake

Create or update a bake configuration.

**Endpoint**: `POST /v1/repo/{repo_name}/bakes`

**Request**:

```bash
curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes" \
  -H "Authorization: Bearer $BREAD_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "bake_name": "my_bake",
    "template": "default",
    "overrides": {
      "datasets": [
        {"target": "coding_target", "weight": 1.0}
      ],
      "epochs": 3,
      "micro_batch_size": 1,
      "gradient_accumulation_steps": 4,
      "model": {
        "type": "bake",
        "name_or_path": "Qwen/Qwen3-32B",
        "baked_adapter_config": {
          "r": 8,
          "lora_alpha": 16,
          "lora_dropout": 0.05,
          "bias": "none",
          "target_modules": "all-linear"
        }
      },
      "optimizer": {
        "learning_rate": 0.0001
      },
      "wandb": {
        "enable": true,
        "project": "my-project",
        "entity": "my-team",
        "name": "my-run"
      }
    }
  }'
```

<ParamField path="repo_name" type="string" required>
  Repository name
</ParamField>

<ParamField path="bake_name" type="string" required>
  Bake name
</ParamField>

<ParamField path="template" type="string" required>
  Template: 'default' or existing bake name
</ParamField>

<ParamField path="overrides" type="object">
  Bake configuration overrides. See [Bake Configuration](/sdk/configuration/bake-config).
</ParamField>

---

### Start Bake

Start a bake (training) job.

**Endpoint**: `POST /v1/repo/{repo_name}/bakes/{bake_name}`

**Request**:

```bash
curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/my_bake" \
  -H "Authorization: Bearer $BREAD_API_KEY"
```

**Response**: `200 OK`

```json
{
  "status": "running",
  "job_id": 12345,
  "progress_percent": 0
}
```

<ParamField path="bake_name" type="string" required>
  Bake name
</ParamField>

<ParamField path="repo_name" type="string" required>
  Repository name
</ParamField>

**Prerequisites**:
- Complete bake configuration (datasets + training settings)
- All referenced targets have completed rollouts

<Check>
Ensure all target rollouts are complete before starting bake
</Check>

**Behavior**:
- Idempotent: repeated calls return current state
- Asynchronous: returns immediately
- Poll `get()` to monitor status

**Returns**: `BakeResponse`
- `status`: Job status ('not_started', 'running', 'complete', 'failed')
- `job_id`: Coordinator job ID (if queued/running)
- `progress_percent`: Job progress (0-100)

---

### Batch Create or Update Bakes

Create or update multiple bakes.

**Endpoint**: `POST /v1/repo/{repo_name}/bakes/batch`

**Request**:

```bash
curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/batch" \
  -H "Authorization: Bearer $BREAD_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "bakes": [
      {
        "bake_name": "bake_v1",
        "template": "default",
        "overrides": {"epochs": 3}
      },
      {
        "bake_name": "bake_v2",
        "template": "bake_v1",
        "overrides": {"epochs": 5}
      }
    ]
  }'
```

---

### Create or Update Bake (Deprecated)

<Warning>
**Deprecated**: Use `POST /v1/repo/{repo_name}/bakes` instead. This endpoint will be removed in a future version.
</Warning>

**Endpoint**: `PUT /v1/repo/{repo_name}/bakes/{bake_name}`

**Request**:

```bash
curl -X PUT "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/my_bake" \
  -H "Authorization: Bearer $BREAD_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "template": "default",
    "overrides": {
      "datasets": [{"target": "coding_target", "weight": 1.0}],
      "epochs": 3
    }
  }'
```

---

### Batch Create or Update Bakes (Deprecated)

<Warning>
**Deprecated**: Use `POST /v1/repo/{repo_name}/bakes/batch` instead. This endpoint will be removed in a future version.
</Warning>

**Endpoint**: `PUT /v1/repo/{repo_name}/bakes/batch`

**Request**:

```bash
curl -X PUT "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/batch" \
  -H "Authorization: Bearer $BREAD_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "bakes": [
      {
        "bake_name": "bake_v1",
        "template": "default",
        "overrides": {"epochs": 3}
      }
    ]
  }'
```

---

### Delete Bake

Delete a bake from the repository.

**Endpoint**: `DELETE /v1/repo/{repo_name}/bakes/{bake_name}`

**Request**:

```bash
curl -X DELETE "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/old_bake" \
  -H "Authorization: Bearer $BREAD_API_KEY"
```

---

## Complete Training Workflow

<Steps>
  <Step title="Verify Rollouts Complete">
    ```bash
    # Check target rollout status
    curl -X GET "https://bapi.bread.com.ai/v1/repo/my_repo/targets/coding_target/rollout" \
      -H "Authorization: Bearer $BREAD_API_KEY"
    
    # Response should show status: "complete"
    ```
  </Step>

  <Step title="Configure Bake">
    ```bash
    curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes" \
      -H "Authorization: Bearer $BREAD_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "bake_name": "my_bake",
        "template": "default",
        "overrides": {
          "datasets": [{"target": "coding_target", "weight": 1.0}],
          "epochs": 3,
          "micro_batch_size": 1,
          "model": {
            "type": "bake",
            "name_or_path": "Qwen/Qwen3-32B"
          },
          "optimizer": {
            "learning_rate": 0.0001
          }
        }
      }'
    ```
  </Step>

  <Step title="Start Training">
    ```bash
    curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/my_bake" \
      -H "Authorization: Bearer $BREAD_API_KEY"
    ```
  </Step>

  <Step title="Monitor Progress">
    ```bash
    # Poll bake status
    curl -X GET "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/my_bake" \
      -H "Authorization: Bearer $BREAD_API_KEY"
    
    # Check status field: "not_started", "running", "complete", or "failed"
    # Check progress_percent for completion percentage
    ```
  </Step>
</Steps>

## Configuration Examples

### LoRA Training

```bash
curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes" \
  -H "Authorization: Bearer $BREAD_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "bake_name": "lora_bake",
    "template": "default",
    "overrides": {
      "datasets": [{"target": "coding_target", "weight": 1.0}],
      "epochs": 3,
      "model": {
        "type": "bake",
        "name_or_path": "Qwen/Qwen3-32B",
        "baked_adapter_config": {
          "r": 16,
          "lora_alpha": 32,
          "lora_dropout": 0.1,
          "bias": "none",
          "target_modules": "all-linear"
        }
      }
    }
  }'
```

### Weights & Biases Integration

```bash
curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes" \
  -H "Authorization: Bearer $BREAD_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "bake_name": "wandb_bake",
    "template": "default",
    "overrides": {
      "datasets": [{"target": "coding_target", "weight": 1.0}],
      "epochs": 5,
      "wandb": {
        "enable": true,
        "project": "bread-experiments",
        "entity": "my-team",
        "name": "coding-v1",
        "tags": ["coding", "experiment", "v1"]
      }
    }
  }'
```

## Key Configuration Fields

See [Bake Configuration Reference](/sdk/configuration/bake-config) for complete details.

### Dataset Configuration

<ParamField path="datasets" type="array" required>
  List of targets to use as training data
  - `target` (string, required): Target name
  - `weight` (float): Dataset sampling weight
</ParamField>

### Training Parameters

<ParamField path="epochs" type="integer">
  Number of training epochs
</ParamField>

<ParamField path="micro_batch_size" type="integer">
  Micro batch size
</ParamField>

<ParamField path="gradient_accumulation_steps" type="integer">
  Gradient accumulation steps
</ParamField>

<ParamField path="seed" type="integer">
  Random seed for reproducibility
</ParamField>

## Best Practices

<AccordionGroup>
  <Accordion title="Verify Prerequisites" icon="list-check">
    Ensure all target rollouts are complete before starting training
  </Accordion>

  <Accordion title="Start Small" icon="chart-simple">
    Test with fewer epochs and smaller datasets first, then scale up
  </Accordion>

  <Accordion title="Use Weights & Biases" icon="chart-line">
    Enable W&B logging to track training metrics and compare experiments
  </Accordion>

  <Accordion title="Version Your Bakes" icon="code-branch">
    Use descriptive names with versions: `coding_v1`, `coding_v2_lora`
  </Accordion>

  <Accordion title="Monitor Progress" icon="eye">
    Check status periodically but not too frequently (every 30-60 seconds)
  </Accordion>
</AccordionGroup>

## Error Handling

### Not Found (404)

Starting a bake that doesn't exist:

```bash
curl -X POST "https://bapi.bread.com.ai/v1/repo/my_repo/bakes/nonexistent" \
  -H "Authorization: Bearer $BREAD_API_KEY"
```

**Response**: `404 Not Found`

```json
{
  "error": "Bake not found"
}
```

### Prerequisites Not Met

Starting a bake when rollouts aren't complete:

**Response**: `400 Bad Request`

```json
{
  "error": "Target rollouts must complete before starting bake"
}
```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Bake Configuration"
    icon="gear"
    href="/sdk/configuration/bake-config"
  >
    Complete bake configuration reference
  </Card>
  <Card
    title="SDK Quickstart"
    icon="code"
    href="/sdk/quickstart"
  >
    Use the SDK for programmatic control
  </Card>
</CardGroup>

